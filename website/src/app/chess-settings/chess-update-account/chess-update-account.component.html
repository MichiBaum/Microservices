<div class="container mx-auto">
  <div class="grid grid-cols-1 gap-4">

    <p-fieldset>
      <ng-template #header>
        Account search
      </ng-template>

      <p-inputgroup>
        <input pInputText placeholder="Username" [(ngModel)]="username" />
        <p-inputGroupAddon>
        <p-checkbox [(ngModel)]="localSearch" [binary]="true" id="localSearch" />
        <label for="localSearch" class="ml-2">Only Local search</label>
        </p-inputGroupAddon>
        <p-button pButton label="Search" (click)="search()" />
      </p-inputgroup>

      <p-table [value]="importedAccounts">
        <ng-template #header>
          <tr>
            <th>Username</th>
            <th>Platform</th>
            <th>Number of games</th>
            <th>Person</th>
            <th>Url</th>
            <th>Import Games</th>
            <th>Delete</th>
          </tr>
        </ng-template>
        <ng-template #body let-account>
          <tr>
            <td>{{ account.username }}</td>
            <td>{{ account.platform }}</td>
            <td> TODO </td>
            <td>
              <p-button label="Connect Person" />
              <p-button label="Remove Person" />
            </td>
            <td><p-button (click)="open(account.url)" label="Open {{account.platform}}" /></td>
            <td><p-button *ngIf="showImportGameButton(account)" (click)="importGames(account.id)" label="Import Games" /></td>
            <td><p-button (click)="delete(account.id)" label="Delete" severity="danger" /></td>
          </tr>
        </ng-template>
      </p-table>
    </p-fieldset>

    <p-fieldset legend="Create OTB Account">

    </p-fieldset>

  </div>
</div>
